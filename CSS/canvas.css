/* ====== CANVAS.CSS ====== */
/* Estilos exclusivos para el editor de pintura/canvas y sus paneles/herramientas */

.paint-container {
    display: flex;
    flex-direction: row;
    width: 100%;
    height: calc(100vh - 120px);
    min-height: 480px;
    box-sizing: border-box;
}

/* Panel de herramientas a la izquierda */
.tools-panel, .preview-panel {
    width: 15vw;
    min-width: 120px;
    max-width: 240px;
    background: #eafff2;
    padding: 12px 8px 12px 8px;
    display: flex;
    flex-direction: column;
    gap: 18px;
    align-items: center;
    border-right: 4px solid #1fa463;
    height: 100%;
    box-sizing: border-box;
    margin-left: 1.5%;
    margin-right: 1.5%;
    overflow-y: auto;
    flex-shrink: 0;
}
.preview-panel {
    border-right: none;
    border-left: 4px solid #1fa463;
    
}

.tools-panel > *, .preview-panel > * {
    margin-bottom: 2%;
}
.tools-panel > *:last-child, .preview-panel > *:last-child {
    margin-bottom: 0;
}

/* Panel del canvas donde se pinta */
.canvas-panel {
    flex: 1 1 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #e6e6e6;
    height: 100%;
}
#paint-canvas {
    width: 100%;
    max-width: 700px;
    max-height: 700px;
    aspect-ratio: 1/1;
    border: 4px solid #b88a4a;
    background: #fff; /* canvas blanco */
    box-shadow: 0 0 16px #b88a4a44;
    margin: 0 auto;
    display: block;
}

/* Botones de herramientas (brocha, borrador, etc.) */
.tools-block, .filters-block {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
    width: 100%;
    max-width: 150px;
    margin-bottom: 12px;
    margin-left: auto;
    margin-right: auto;
    justify-content: center;
    align-items: center;
}
.tool-group {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 12px;
}
.tool-btn, .filter-btn, .img-upload-btn, #download-btn, #img-upload-label, #add-draggable-btn {
    background: #b6f5c9;
    border: 2px solid #1fa463;
    border-radius: 12px;
    width: 40px;
    height: 40px;
    aspect-ratio: 1/1;
    margin: 0; /* Eliminar margen para mejor alineaci칩n en grid */
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: background 0.2s;
    box-shadow: 0 2px 8px #b88a4a22;
    color: #1fa463;
}
.tool-btn.active-tool, .filter-btn.active-tool, .sticker-btn.active-tool, .tool-btn.selected, .filter-btn.selected {
    background: #1fa463;
    color: #fff;
    border-color: #0e7c3a;
    box-shadow: 0 0 0 3px #b6f5c9;
}
.tool-btn img {
    width: 24px;
    height: 24px;
}

/* Inputs de color y tama침o */
#stroke-color, #fill-color {
    width: 90%;
    margin: 8px 5% 8px 5%;
    display: block;
}
#download-btn {
    width: 98%;
    height: 48px;
    background: #ffcc00;
    border: none;
    border-radius: 8px;
    color: #222;
    font-weight: bold;
    font-size: 1.1em;
    margin: 10px auto 0 auto;
    cursor: pointer;
    display: block;
}

/* Filtros visuales */
.filters-block {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
    width: 100%;
    max-width: 150px;
    margin-bottom: 12px;
    margin-left: auto;
    margin-right: auto;
    justify-content: center;
    align-items: center;
}
.filter-btn {
    background: #fff2c7;
    border: 2px solid #b88a4a;
    border-radius: 12px;
    width: 40px;
    height: 40px;
    aspect-ratio: 1/1;
    margin: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: background 0.2s;
    box-shadow: 0 2px 8px #b88a4a22;
}
#filter-negative {
    background: linear-gradient(90deg, #e94f37, #4a90e2);
    color: #fff;
}

/* Botones y etiquetas para carga de im치genes */
#img-upload-label, #add-draggable-btn, .img-upload-btn {
    display: block;
    width: 98%;
    margin: 1% auto 8px auto;
    background: #ffd166;
    color: #222;
    border-radius: 8px;
    padding: 10px 0;
    text-align: center;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 0 2px 8px #b88a4a22;
    font-size: 1em;
    border: none;
}
#img-upload {
    display: none;
}

/* Estilos para im치genes previsualizadas y arrastrables */
.img-preview, .draggable-images {
    background: #eafff2;
    border: 2px dashed #1fa463;
    width: 100%;
    max-width: 95%;
    min-width: 60px;
    aspect-ratio: 4/3;
    margin-bottom: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    transition: width 0.2s, min-height 0.2s;
}

/* Panel de referencia y drag-and-drop: igual ancho que los botones */
.panel-block {
    width: 100%;
    max-width: 150px;
    min-width: 60px;
    margin: 0 auto 18px auto;
    box-sizing: border-box;
    background: #eafff2;
    border: 2px solid #1fa463;
}

/* Media queries para responsividad del canvas y paneles */
@media (max-width: 900px) {
    .tools-panel, .preview-panel {
        min-width: 60px;
        max-width: 80px;
        width: 15vw;
        padding: 2px 1px;
    }
    #paint-canvas {
        max-width: 98vw;
        max-height: 98vw;
    }
    .tools-block, .filters-block {
        max-width: 90px;
    }
    .img-preview, .draggable-images {
        max-width: 90px;
    }
    .panel-block {
        max-width: 90px;
    }
    #img-upload-label, #add-draggable-btn {
        width: 98%;
        font-size: 0.9em;
        padding: 6px 0;
    }
}
.preview-group {
    width: 100%;
    min-width: 120px;
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 12px;
}
.canvas{
    position:sticky;
}